# Информация об API и Стоимости

## API Ключ
Это приложение использует **Google Gemini API**. В целях безопасности API-ключ не хранится в открытом коде и не запрашивается у пользователя. Он передается исключительно через системную переменную окружения `process.env.API_KEY` на стороне сервера/платформы развертывания.

## Используемые модели
Приложение динамически переключается между моделями в зависимости от сложности задачи:
1.  **gemini-3-pro-preview**: Используется для глубокого астрологического анализа натальных карт и нумерологических расчетов.
2.  **gemini-3-flash-preview**: Используется для быстрых ежедневных прогнозов и чата с "Небесным Проводником".

## Стоимость генерации
Стоимость одного вызова зависит от объема входных данных (промпта) и выходного текста (токенов). На текущий момент (согласно тарифам Google AI Studio):

| Модель | Вход (за 1 млн токенов) | Выход (за 1 млн токенов) |
| :--- | :--- | :--- |
| **Gemini Flash** | ~$0.075 | ~$0.30 |
| **Gemini Pro** | ~$3.50 | ~$10.50 |

*Примечание: В рамках "Free tier" (бесплатного уровня) Google предоставляет ограниченное количество запросов в минуту бесплатно. Один средний расчет натальной карты в этом приложении стоит менее **$0.01** (одной копейки в долларовом эквиваленте) при использовании платных тарифов.*

Актуальные цены всегда можно проверить на официальной странице [Google AI Pricing](https://ai.google.dev/pricing).

---

## Механизм работы ключа в Google AI Studio

В контексте среды **Google AI Studio**, работа с ключом автоматизирована и защищена:

1.  **Автоматическая инъекция**: Переменная `process.env.API_KEY` является зарезервированной переменной окружения. Платформа Google AI Studio самостоятельно "подставляет" (инжектирует) действующий API-ключ вашего проекта в это поле при каждом запуске приложения.
2.  **Безопасность (No Client-Side exposure)**: Несмотря на использование в коде, ключ обрабатывается платформой так, чтобы он не попадал в открытый доступ. Это избавляет от необходимости жестко прописывать секреты в файлах.
3.  **Отсутствие .env файла**: При работе внутри веб-редактора AI Studio вам **не нужно** создавать файл `.env` вручную. Платформа берет на себя роль провайдера секретов. Если бы вы запускали это приложение локально, вам пришлось бы создать `.env` с ключом, но здесь это происходит магически.
4.  **Источник ключа**: Ключ берется из вашего раздела "Get API Key" в интерфейсе Google AI Studio. Платформа связывает текущую сессию редактирования с вашим активным ключом.
5.  **Изоляция**: Каждый вызов `new GoogleGenAI({ apiKey: process.env.API_KEY })` гарантированно использует актуальный и авторизованный токен, привязанный к вашему аккаунту.